# BMS_Integration

https://omi-key.github.io/BMS_Integration/register.html

更新日: 19/03/29 (st, sl 更新)

# 何
GENOCIDE を sl + st の 25 段階に合わせて混ぜたもの

## 中身について

リコメンド同様 IRT でレベル推定しました。json中 "raw" がナマの値。

新し目の st/sl のはクロールが間に合わなかったため推定不能。

st/sl には追従予定ですが IRT は死ぬほど大変だったので難易度推定は年数回くらいの予定

## 仕様

* 数十人しかプレイしてない + プレイヤーほぼ全員 easy してる曲
* 数十人しかプレイしてない + プレイヤーほぼ全員死んでる曲
* プレイ曲数が少ない (実力が怪しい) プレイヤーが特攻して死んでる曲
* 送信したリザルトがほぼ全て FAILED (or EASY 以上) のプレイヤー

みたいなサンプルの推定がガバガバ。とくに sl の新曲で顕著。

除外しても良いけれどあまり恣意的な操作をしたくなかったので…

## 技術的な話

クロール対象 2398 曲 * 対象曲を 30 曲以上プレイしている 22179 人のデータ 6415871 サンプルをもとに 2PL モデルで推定しました

ここまでデータが多いと MCMC が回らないのでベイズ変分でフィットさせました

stan の ADVI をベースに optimizer まわりを書き直して収束をよくしました

ELBO 相対変化量 1e-4 を収束条件にして 1000 サンプル抽出 * 12 回試行の平均
